<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Delivery Tools Module &#8212; Delivery Fee Calculator Flask App 1.0.0-alpha documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=3f0d0291" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=b0cd2d97" />
    <script src="_static/documentation_options.js?v=c87a5f98"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to Delivery Fee Calculator Flask App’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-delivery_tools.delivery_tools">
<span id="delivery-tools-module"></span><h1>Delivery Tools Module<a class="headerlink" href="#module-delivery_tools.delivery_tools" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="delivery_tools.delivery_tools.delivery_query_integrity_check">
<span class="sig-prename descclassname"><span class="pre">delivery_tools.delivery_tools.</span></span><span class="sig-name descname"><span class="pre">delivery_query_integrity_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#delivery_tools.delivery_tools.delivery_query_integrity_check" title="Link to this definition">¶</a></dt>
<dd><p>Verifies the integrity of delivery data by checking the presence
and type of required fields.</p>
<p>This function examines the provided <cite>data</cite> dictionary to ensure
it contains all necessary keys: <cite>cart_value</cite>,
<cite>delivery_distance</cite>, <cite>number_of_items</cite>, and <cite>time</cite>.</p>
<p>Additionally, it checks that <cite>cart_value</cite>, <cite>delivery_distance</cite>,
and <cite>number_of_items</cite> are integers, and <cite>time</cite> is a string.
It returns <cite>True</cite> if all criteria are met, otherwise <cite>False</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em>) – The order data to be validated. It should be
a dictionary with keys corresponding to the
required fields.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean indicating whether the data passes the
integrity checks. <cite>True</cite> if it does, <cite>False</cite> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="delivery_tools.delivery_tools.calculate_surcharges">
<span class="sig-prename descclassname"><span class="pre">delivery_tools.delivery_tools.</span></span><span class="sig-name descname"><span class="pre">calculate_surcharges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cart_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_distance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_items</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#delivery_tools.delivery_tools.calculate_surcharges" title="Link to this definition">¶</a></dt>
<dd><p>Calculate additional surcharges for a delivery order based on
cart value, delivery distance, and number of items.</p>
<dl>
<dt>This function computes surcharges based on several criteria:</dt><dd><div class="line-block">
<div class="line">- A surcharge is added to fill the gap if the cart value is
below a base fee cap.</div>
<div class="line">- Additional surcharges are applied for delivery distances
exceeding certain thresholds.</div>
<div class="line">- Bulk item surcharges are added based on the number of
items, with higher surcharges for larger quantities.</div>
</div>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cart_value</strong> (<em>int</em>) – The total value of the cart in cents.</p></li>
<li><p><strong>delivery_distance</strong> (<em>int</em>) – The delivery distance in meters.</p></li>
<li><p><strong>number_of_items</strong> (<em>int</em>) – The number of items in the order.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The total surcharge amount in cents.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="delivery_tools.delivery_tools.is_rush_hour">
<span class="sig-prename descclassname"><span class="pre">delivery_tools.delivery_tools.</span></span><span class="sig-name descname"><span class="pre">is_rush_hour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#delivery_tools.delivery_tools.is_rush_hour" title="Link to this definition">¶</a></dt>
<dd><p>Determine whether a given time falls within the designated rush
hour period.</p>
<p>This function checks if the specified time is within the rush
hour window on a specific day of the week.</p>
<dl>
<dt>Rush hour details:</dt><dd><div class="line-block">
<div class="line">- Rush hour is defined as being between 15:00 and 19:00
(inclusive) on Fridays.</div>
<div class="line">- The time is evaluated in UTC.</div>
</div>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_str</strong> (<em>str</em>) – The time in ISO 8601 format string, assumed to
be in UTC.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the time is within the rush hour period, False
otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="delivery_tools.delivery_tools.delivery_fee_calculator">
<span class="sig-prename descclassname"><span class="pre">delivery_tools.delivery_tools.</span></span><span class="sig-name descname"><span class="pre">delivery_fee_calculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#delivery_tools.delivery_tools.delivery_fee_calculator" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the total delivery fee for an order, incorporating
various surcharges and special conditions.</p>
<p>This function integrates multiple components to calculate the
final delivery fee.</p>
<dl>
<dt>Used Methods:</dt><dd><div class="line-block">
<div class="line">- It leverages the <cite>calculate_surcharges</cite> function to
assess additional costs based on cart value, delivery
distance, and item count.</div>
<div class="line">- Utilizes the <cite>is_rush_hour</cite> function to identify and
apply a surcharge for deliveries during rush hour
periods.</div>
</div>
</dd>
<dt>The calculation process involves:</dt><dd><div class="line-block">
<div class="line">- Determining if the order qualifies for free delivery
based on cart value.</div>
<div class="line">- Calculating surcharges for distance and bulk items.</div>
<div class="line">- Applying a rush hour surcharge if applicable.</div>
<div class="line">- Ensuring the total delivery fee does not exceed the
maximum cap.</div>
</div>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em>) – The order data containing <cite>cart_value</cite> (int),
<cite>delivery_distance</cite> (int),
<cite>number_of_items</cite> (int), and <cite>time</cite> (ISO 8601
format string).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with a single key ‘delivery_fee’ and its
calculated value in cents.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-tests.delivery_fee_test_cases">
<span id="tests-module"></span><h1>Tests Module<a class="headerlink" href="#module-tests.delivery_fee_test_cases" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="tests.delivery_fee_test_cases.DeliveryFeeEdgeCases">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tests.delivery_fee_test_cases.</span></span><span class="sig-name descname"><span class="pre">DeliveryFeeEdgeCases</span></span><a class="headerlink" href="#tests.delivery_fee_test_cases.DeliveryFeeEdgeCases" title="Link to this definition">¶</a></dt>
<dd><p>Test cases for the logic of the delivery fee calculations.</p>
<p>This class contains multiple test cases to verify the results
of the delivery fee calculations. It covers various scenarios, including
cart value surcharges, distance-based fees, bulk order surcharges,
maximum fee caps, and special time-based fees.</p>
<dl>
<dt>Test Cases:</dt><dd><div class="line-block">
<div class="line">- <cite>test_fill_10_euro_gap_in_cart_value</cite>: Test cases of surcharge
calculation for cart values less than 10€.</div>
<div class="line">- <cite>test_excess_500m_fee</cite>: Test cases of additional delivery fees
for every 500 meters beyond the first 1000 meters.</div>
<div class="line">- <cite>test_excess_bulk_fee</cite>: Test cases of the surcharge for bulk
orders based on the number of items in the cart.</div>
<div class="line">- <cite>test_15_euro_cap</cite>: Test cases of the maximum delivery fee cap
of 15€, including surcharges.</div>
<div class="line">- <cite>test_200_euro_free_delivery</cite>: Test cases of free delivery
for cart values equal to or exceeding 200€.</div>
<div class="line">- <cite>test_friday_rush</cite>: Test cases of increased delivery fees during
the Friday rush hours from 15 to 19 (inclusive).</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class" id="module-tests.test_delivery_fee_logic">
<dt class="sig sig-object py" id="tests.test_delivery_fee_logic.FeeLogicTests">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tests.test_delivery_fee_logic.</span></span><span class="sig-name descname"><span class="pre">FeeLogicTests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">methodName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'runTest'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tests.test_delivery_fee_logic.FeeLogicTests" title="Link to this definition">¶</a></dt>
<dd><p>This test class inherits from <cite>DeliveryFeeEdgeCases</cite> and focuses on testing
the logic of the delivery fee calculator package.</p>
<dl>
<dt>Inherits From:</dt><dd><div class="line-block">
<div class="line">- <cite>DeliveryFeeEdgeCases</cite>: A base test class containing logical test cases
related to delivery fee calculations.</div>
</div>
</dd>
</dl>
<p>The <cite>check_queries</cite> method is used to check all the queries and their
expected fees of the inherited test cases with the results of delivery
fee calculator library.</p>
</dd></dl>

<dl class="py class" id="module-tests.test_http_endpoint">
<dt class="sig sig-object py" id="tests.test_http_endpoint.EndpointTests">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tests.test_http_endpoint.</span></span><span class="sig-name descname"><span class="pre">EndpointTests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">methodName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'runTest'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tests.test_http_endpoint.EndpointTests" title="Link to this definition">¶</a></dt>
<dd><p>Test the endpoint’s connection and query integrity with the API.</p>
<p>This test class inherits from <cite>DeliveryFeeEdgeCases</cite> and focuses on testing
the HTTP connection to the API and the integrity of query parameters.</p>
<dl>
<dt>Inherits From:</dt><dd><div class="line-block">
<div class="line">- <cite>DeliveryFeeEdgeCases</cite>: A base test class containing logical test cases
related to delivery fee calculations.</div>
</div>
</dd>
<dt>Test Methods In This Class:</dt><dd><div class="line-block">
<div class="line">- <cite>test_query_integrity</cite>: Test if the HTTP endpoint aborts
connection when required parameters in the query are not
satisfied. It sends an invalid query to the API and checks if
the response status code indicates a rejection due to invalid
parameters.</div>
</div>
</dd>
</dl>
<p>The <cite>check_queries</cite> method is used to check all the queries and their
expected fees of the inherited test cases with the response of the
http endpoint.</p>
<dl class="py method">
<dt class="sig sig-object py" id="tests.test_http_endpoint.EndpointTests.setUp">
<span class="sig-name descname"><span class="pre">setUp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tests.test_http_endpoint.EndpointTests.setUp" title="Link to this definition">¶</a></dt>
<dd><p>Hook method for setting up the test fixture before exercising it.</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Delivery Fee Calculator Flask App</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Delivery Tools Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#delivery_tools.delivery_tools.delivery_query_integrity_check"><code class="docutils literal notranslate"><span class="pre">delivery_query_integrity_check()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#delivery_tools.delivery_tools.calculate_surcharges"><code class="docutils literal notranslate"><span class="pre">calculate_surcharges()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#delivery_tools.delivery_tools.is_rush_hour"><code class="docutils literal notranslate"><span class="pre">is_rush_hour()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#delivery_tools.delivery_tools.delivery_fee_calculator"><code class="docutils literal notranslate"><span class="pre">delivery_fee_calculator()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#module-tests.delivery_fee_test_cases">Tests Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tests.delivery_fee_test_cases.DeliveryFeeEdgeCases"><code class="docutils literal notranslate"><span class="pre">DeliveryFeeEdgeCases</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tests.test_delivery_fee_logic.FeeLogicTests"><code class="docutils literal notranslate"><span class="pre">FeeLogicTests</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tests.test_http_endpoint.EndpointTests"><code class="docutils literal notranslate"><span class="pre">EndpointTests</span></code></a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to Delivery Fee Calculator Flask App’s documentation!</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Mamdasan Sabrian.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/modules.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>